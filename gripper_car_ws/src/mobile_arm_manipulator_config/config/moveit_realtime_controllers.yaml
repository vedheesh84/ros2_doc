# MoveIt real-time controller configuration
# This configuration enables MoveIt2 to work with real-time controllers

moveit_controller_manager: moveit_simple_controller_manager/MoveItSimpleControllerManager

moveit_simple_controller_manager:
  controller_names:
    - mobile_arm_realtime_controller
    - gripper_realtime_controller
    - force_torque_sensor_controller

  # Real-time joint trajectory controller configuration
  mobile_arm_realtime_controller:
    type: FollowJointTrajectory
    joints:
      - joint_1
      - joint_2
      - joint_3
      - joint_4
      - gripper_base_joint
    action_ns: follow_joint_trajectory
    default: true
    # Real-time specific parameters
    action_monitor_rate: 20.0
    state_publish_rate: 50.0
    allow_partial_joints_goal: false
    constraints:
      stopped_velocity_tolerance: 0.01
      goal_time: 0.6
      joint_1:
        trajectory: 0.05
        goal: 0.1
      joint_2:
        trajectory: 0.05
        goal: 0.1
      joint_3:
        trajectory: 0.05
        goal: 0.1
      joint_4:
        trajectory: 0.05
        goal: 0.1
      gripper_base_joint:
        trajectory: 0.05
        goal: 0.1

  # Real-time gripper controller configuration
  gripper_realtime_controller:
    type: GripperCommand
    joints:
      - left_gear_joint
    action_ns: gripper_cmd
    default: true
    # Real-time specific parameters
    action_monitor_rate: 20.0
    state_publish_rate: 50.0
    allow_partial_joints_goal: true
    constraints:
      goal_tolerance: 0.01
      stopped_velocity_tolerance: 0.01
      goal_time: 0.6

  # Force torque sensor controller (if available)
  force_torque_sensor_controller:
    type: ForceTorqueSensor
    sensor_name: force_torque_sensor
    frame_id: force_torque_sensor_link
    publish_rate: 100.0

